<h1>Editar Proveedor</h1>

{% if messages %}
  <div class="messages">
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }}">
        {{ message }}
      </div>
    {% endfor %}
  </div>
{% endif %}

<form method="post" action="{% url 'proveedor_act' pk=proveedor.pk %}">
  {% csrf_token %}
  <p><label>Nombre:</label> <input type="text" name="nombre" value="{{ form_data.nombre|default:proveedor.nombre }}" required></p>
  <p><label>RUT:</label> <input type="text" name="rut" value="{{ form_data.rut|default:proveedor.rut }}" required></p>
  <p><label>Teléfono:</label> <input type="text" name="telefono" value="{{ form_data.telefono|default:proveedor.telefono|default:'' }}"></p>
  <p><label>Correo:</label> <input type="email" name="correo" value="{{ form_data.correo|default:proveedor.correo }}" required></p>
  <p><label>Dirección:</label> <input type="text" name="direccion" value="{{ form_data.direccion|default:proveedor.direccion }}" required></p>
  <p><label>Ciudad:</label> <input type="text" name="ciudad" value="{{ form_data.ciudad|default:proveedor.ciudad }}" required></p>

  <button type="submit">Actualizar</button>
  <a href="{% url 'proveedor' %}">Volver</a>
</form>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
{% if messages %}
<script>
  {% for message in messages %}
  Swal.fire({
    title: "{% if message.tags == 'success' %}¡Actualizado correctamente!{% else %}{{ message.tags|title }}{% endif %}",
    text: "{{ message }}",
    icon: "{% if message.tags == 'success' %}success{% elif message.tags == 'error' %}error{% else %}info{% endif %}",
    confirmButtonColor: "{% if message.tags == 'success' %}#28a745{% else %}#d33{% endif %}",
    showConfirmButton: false,
    timer: 1500,
    timerProgressBar: true
  });
  {% endfor %}
</script>
{% endif %}
